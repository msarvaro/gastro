<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Markiz Manager Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="../static/css/manager.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body class>
<!-- Sidebar -->
<div class="sidebar closed" id="sidebar">
    <div class="logo">
        <img src="../static/images/logo.svg" alt="Logo">
        <span class="sidebar-label">Markiz</span>
    </div>
    <nav>
        <ul>
            <li data-section="main" data-route="/manager">
                <span class="icon"><img src="../static/images/home.svg"></span>
                <span class="sidebar-label">Главная</span>
            </li>
            <li data-section="menu" data-route="/manager/menu">
                <span class="icon"><img src="../static/images/menu.svg"></span>
                <span class="sidebar-label">Меню</span>
            </li>
            <li data-section="inventory" data-route="/manager/inventory">
                <span class="icon"><img src="../static/images/stocks.svg"></span>
                <span class="sidebar-label">Запасы</span>
            </li>
            <li data-section="staff" data-route="/manager/staff">
                <span class="icon"><img src="../static/images/staff.svg"></span>
                <span class="sidebar-label">Персонал</span>
            </li>
          
        </ul>
    </nav>
    <button class="logout">
        <span class="icon"><img src="../static/images/logout.svg"></span>
        <span class="sidebar-label">Выйти</span>
    </button>
</div>

<!-- Main Content -->
<div class="main-content">
    <!-- Главная страница -->
    <section id="main-section" class="section">
        <div class="header">Главная страница</div>
        <div class="cards">
            <div class="card">
                <div class="desc">Дневная выручка<br><div class="value"></div><span></span></div>               
            </div>
            <div class="card">         
                <div class="desc">Посетителей<br><div class="value"></div><span></span></div>
            </div>
            <div class="card">
                <div class="desc">Средний чек<br><div class="value"></div><span></span></div>
            </div>
        </div>
        <div class="notifications">
            <h3>Уведомления</h3>
            <div class="notification-item"><a href="#">Низкий запас: Рис</a> — Требуется пополнение. | Текущий остаток: 2.3 кг. | Минимальный уровень: 10 кг</div>
            <div class="notification-item"><a href="#">Новая заявка на найм</a> — От: Аскар Ахметов, администратор | Должность: Официант | Опыт работы: 6 мес. | Coffee Boom, Мангилик ел 17</div>
            <div class="notification-item">Отчет за неделю готов — Показатели выше плановых на 12% | Основные метрики: выручка +15%, посещаемость +8%</div>
            <div class="notification-item"><a href="#">Новая заявка на найм</a> — От: Нургуль Науканова, шеф повар | Должность: Соус мейкер | Опыт работы: 2 года. | Coffee Boom, Мангилик ел 57</div>
            <div class="pagination">
                <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                <span class="pagination-text"></span>
                <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
            </div>
        </div>
    </section>

    <!-- Управление запасами -->
    <section id="inventory-section" class="section" style="display:none;">
        <div class="header">Управление запасами</div>
        <div class="tabs">
            <button class="tab-btn active" data-tab="stock">Склад</button>
            <button class="tab-btn" data-tab="requests">Заявки</button>
            <button class="tab-btn" data-tab="suppliers">Поставщики</button>
        </div>
        <!-- Склад -->
        <div id="inventory-stock-tab" class="tab-content">
            <div class="search-bar">
                <div class="search-items">
                    <img src="../static/images/search.svg" class="search-icon" alt="Поиск">
                    <input type="text" id="productSearch" placeholder="Поиск продукта...">
                </div>
                <div class="filters">
                    <select id="productCategoryFilter">
                        <option value="">Категория</option>
                        <option value="Кофе">Кофе</option>
                        <option value="Молочные продукты">Молочные продукты</option>
                        <option value="Сиропы">Сиропы</option>
                        <option value="Расходники">Расходники</option>
                        <option value="Чай">Чай</option>
                    </select>
                    <button id="addProductBtn">Добавить</button>
                </div>
            </div>
            <div class="cards">
                <div class="card">Всего позиций<br><span class="value"></span></div>
                <div class="card">Низкий запас<br><span class="value"></span></div>
                <div class="card">Ожидают поставки<br><span class="value"></span></div>
            </div>
            <div class="table-section">
                <table>
                    <thead>
                        <tr>
                            <th>Название</th>
                            <th>Категория</th>
                            <th>Количество</th>
                            <th>Мин. запас</th>
                            <th>Статус</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Динамические строки -->
                    </tbody>
                </table>
                <div class="pagination">
                    <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                    <span class="pagination-text"></span>
                    <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                </div>
            </div>
        </div>
        <!-- Заявки -->
        <div id="inventory-requests-tab" class="tab-content" style="display:none;">
            <div class="search-bar">
                <div class="search-items">
                    <img src="../static/images/search.svg" class="search-icon" alt="Поиск">
                    <input type="text" id="requestSearch" placeholder="Поиск заявки...">
                </div>
                <div class="filters">
                    <select id="requestStatusFilter">
                        <option value="">Статус</option>
                        <option value="pending">Ожидает одобрения</option>
                        <option value="in_processing">В обработке</option>
                        <option value="completed">Выполнено</option>
                        <option value="rejected">Отклонено</option>
                    </select>
                    <button id="addRequestBtn">Создать</button>
                </div>
            </div>
            <div class="cards">
                <div class="card">Активные заявки<br><span class="value"></span></div>
                <div class="card">Ожидают одобрения<br><span class="value"></span></div>
                <div class="card">Выполнено в этом месяце<br><span class="value"></span></div>
            </div>
            <div class="table-section">
                <table>
                    <thead>
                        <tr><th>Товары</th><th>Создана</th><th>Статус</th><th>Действия</th></tr>
                    </thead>
                    <tbody>
                        <!-- Динамические строки -->
                    </tbody>
                </table>
                <div class="pagination">
                    <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                    <span class="pagination-text"></span>
                    <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                </div>
            </div>
        </div>
        <!-- Поставщики -->
        <div id="inventory-suppliers-tab" class="tab-content" style="display:none;">
            <div class="search-bar">
                <div class="search-items">
                    <img src="../static/images/search.svg" class="search-icon" alt="Поиск">
                    <input type="text" id="supplierSearch" placeholder="Поиск поставщика...">
                </div>
                <div class="filters">
                    <select id="supplierCategoryFilter">
                        <option value="">Категория</option>
                        <option value="Кофе, чай">Кофе, чай</option>
                        <option value="Молочные продукты">Молочные продукты</option>
                        <option value="Сиропы">Сиропы</option>
                        <option value="Расходные материалы">Расходные материалы</option>
                        <option value="Выпечка, кондитерские изделия">Выпечка, кондитерские изделия</option>
                        <option value="Фрукты, ягоды">Фрукты, ягоды</option>
                    </select>
                    <button id="addSupplierBtn">Добавить поставщика</button>
                </div>
            </div>
            <div class="table-section">
                <table id="suppliersTable">
                    <thead>
                        <tr><th>Компания</th><th>Категории</th><th>Контакты</th><th>Статус</th><th>Действия</th></tr>
                    </thead>
                    <tbody>
                        <!-- Динамические строки -->
                    </tbody>
                </table>
                <div class="pagination">
                    <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                    <span class="pagination-text"></span>
                    <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                </div>
            </div>
        </div>
        <!-- История -->
    
    </section>

    <!-- Другие секции -->
    <section id="menu-section" class="section" style="display:none;">
        <div class="header">Меню</div>
        
        <div class="search-bar">
            <div class="search-items">
                <img src="../static/images/search.svg" class="search-icon" alt="Поиск">
                <input type="text" id="dishSearchInput" placeholder="Поиск блюда..." autocomplete="off">
            </div>
        </div>
        
        <div class="menu-content">
            <div class="categories-sidebar">
                <h3>Категории</h3>
                <div class="category-list" id="menu-categories-list">
                    <!-- Categories will be populated by JavaScript -->
                </div>
                <div class="add-category-btn-container">
                    <button class="add-btn" id="addCategoryBtn">+ Добавить категорию</button>
                </div>
            </div>
            
            <div class="menu-items-container">
                <h3 id="selected-category-title">Основные блюда</h3>
                <div class="menu-items-list" id="menu-items-list">
                    <!-- Menu items will be populated by JavaScript -->
                </div>
                <div class="add-item-btn-container">
                    <button class="add-btn" id="addMenuItemBtn">+ Добавить блюдо</button>
                </div>
                
                <div class="pagination">
                    <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                    <span class="pagination-text"></span>
                    <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                </div>
            </div>
        </div>
    </section>
    
    <section id="staff-section" class="section" style="display:none;">
        <div class="header">Персоналом</div>
        <div class="tabs">
            <button class="tab-btn active" data-tab="users">Пользователи</button>
            <button class="tab-btn" data-tab="shifts">Смены</button>
        </div>

        <!-- Вкладка Пользователи -->
        <div id="staff-users-tab" class="tab-content">  
            <div class="search-bar">
                <div class="search-items">
                    <img src="../static/images/search.svg" class="search-icon" alt="Поиск">
                    <input type="text" id="userSearch" placeholder="Поиск пользователей...">
                </div>
                <div class="filters">
                    <select id="userRoleFilter">
                        <option value="">Роль</option>
                        <option value="manager">Менеджер</option>
                        <option value="waiter">Официант</option>
                        <option value="cook">Повар</option>
                        <option value="client">Клиент</option>
                    </select>
                    <select id="userStatusFilter">
                        <option value="">Статус</option>
                        <option value="active">Активные</option>
                        <option value="inactive">Неактивные</option>
                    </select>
                    <button id="addUserBtn">Добавить пользователя</button>
                </div>
            </div>
            <div class="cards">
                <div class="card">Всего пользователей<br><span id="total-users" class="value">0</span></div>
                <div class="card">Активные пользователи<br><span class="value">0</span></div>
                <div class="card">Новых за неделю<br><span class="value">0</span></div>
            </div>

            <div class="table-section">
                <table id="users-table" class="user-table">
                    <thead>
                        <tr>
                            <th>Пользователь</th>
                            <th>Имя</th>
                            <th>Роль</th>
                            <th>Статус</th>
                            <th>Дата регистрации</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Table content will be dynamically populated -->
                    </tbody>
                </table>
                <div class="pagination">
                    <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                    <span class="pagination-text"></span>
                    <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                </div>
            </div>
        </div>

        <!-- Вкладка Смены -->
        <div id="staff-shifts-tab" class="tab-content" style="display:none;">
            <div class="search-bar">
                <div class="search-items">
                    <img src="../static/images/search.svg" class="search-icon" alt="Поиск">
                    <input type="text" id="shiftSearch" placeholder="Поиск смен...">
                </div>
                <div class="filters">
                    <select id="shiftStatusFilter">
                        <option value="">Статус</option>
                        <option value="active">Активные</option>
                        <option value="pending">Ожидающие</option>
                        <option value="completed">Завершённые</option>
                    </select>
                    <button id="addShiftBtn">Добавить смену</button>
                </div>
            </div>

            <div class="table-section">
                <table class="user-table shift-table">
                    <thead>
                        <tr>
                            <th>Дата</th>
                            <th>Время</th>
                            <th>Ответственный менеджер</th>
                            <th>Статус</th>
                            <th>Действия</th>
                        </tr>
                    </thead>
                    <tbody id="shifts-tbody">
                        <!-- Данные о сменах будут добавлены через JavaScript -->
                    </tbody>
                </table>
                <div class="pagination">
                    <button class="pagination-arrow prev"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M13.125 15L7.875 10L13.125 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                    <span class="pagination-text"></span>
                    <button class="pagination-arrow next"><svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none"><path d="M7.875 15L13.125 10L7.875 5" stroke="#6A6A6A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></button>
                </div>
            </div>
        </div>
    </section>

    <!-- Модальные окна -->
    <!-- Добавить продукт -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="addProductModal">&times;</span>
            <h3>Добавление нового продукта</h3>
            <form id="addProductForm">
                <input type="text" name="productName" placeholder="Наименование*" required>
                <select name="productCategory" required>
                    <option value="">Категория*</option>
                    <option value="Кофе">Кофе</option>
                    <option value="Молочные продукты">Молочные продукты</option>
                    <option value="Сиропы">Сиропы</option>
                    <option value="Расходники">Расходники</option>
                    <option value="Чай">Чай</option>
                </select>
                <div style="display:flex; gap:8px;">
                    <input type="number" name="productQuantity" placeholder="Количество*" required step="0.1" min="0">
                    <select name="productUnit" required>
                        <option value="кг">кг</option>
                        <option value="л">л</option>
                        <option value="шт">шт</option>
                        <option value="уп.">уп.</option>
                    </select>
                </div>
                <div style="display:flex; gap:8px;">
                    <input type="number" name="productMinQuantity" placeholder="Минимальный запас*" required step="0.1" min="0">
                    <select name="productMinUnit" required>
                        <option value="кг">кг</option>
                        <option value="л">л</option>
                        <option value="шт">шт</option>
                        <option value="уп.">уп.</option>
                    </select>
                </div>
                <div style="display:flex; gap:8px;">
                    <button type="button" class="cancel" onclick="closeModal('addProductModal')">Отмена</button>
                    <button type="submit">Добавить</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Создать заявку -->
    <div class="modal" id="addRequestModal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="addRequestModal">&times;</span>
            <h3>Создание новой заявки</h3>
            <form id="addRequestForm">
                <select name="requestSupplier" id="requestSupplierSelect" required>
                    <option value="">Поставщик*</option>
                    <!-- Динамически -->
                </select>
                <div id="requestItemsList"></div>
                <button type="button" id="addRequestItemBtn" style="font-size:13px; margin-top:4px;">+ Добавить товар</button>
                <!-- Место для динамической формы выбора товара -->
                <div id="addRequestItemForm" style="display:none; margin-top:8px;">
                    <select id="requestItemSelect"></select>
                    <input type="number" id="requestItemQty" placeholder="Количество" min="0.01" step="0.01" style="width:80px;">
                    <select id="requestItemUnit"></select>
                    <button type="button" id="confirmAddRequestItemBtn">Добавить</button>
                    <button type="button" id="cancelAddRequestItemBtn">Отмена</button>
                </div>
                <select name="requestPriority" required>
                    <option value="">Приоритет</option>
                    <option value="normal">Обычный</option>
                    <option value="high">Высокий</option>
                </select>
                <input type="text" name="requestComment" placeholder="Комментарий">
                <input type="hidden" name="requestItemsData">
                <div style="display:flex; gap:8px;">
                    <button type="button" class="cancel">Отмена</button>
                    <button type="submit">Создать</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Добавить поставщика -->
    <div class="modal" id="addSupplierModal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="addSupplierModal">&times;</span>
            <h3>Добавить поставщика</h3>
            <form id="addSupplierForm">
                <input type="text" name="supplierName" placeholder="Название компании*" required>
                <select name="supplierCategory" required>
                    <option value="">Категория*</option>
                    <option value="Кофе, чай">Кофе, чай</option>
                    <option value="Молочные продукты">Молочные продукты</option>
                    <option value="Сиропы">Сиропы</option>
                    <option value="Расходные материалы">Расходные материалы</option>
                    <option value="Выпечка, кондитерские изделия">Выпечка, кондитерские изделия</option>
                    <option value="Фрукты, ягоды">Фрукты, ягоды</option>
                </select>
                <input type="text" name="supplierPhone" placeholder="Телефон">
                <input type="email" name="supplierEmail" placeholder="Email">
                <textarea name="supplierAddress" placeholder="Адрес"></textarea>
                <button type="submit">Добавить</button>
                <button type="button" class="cancel" onclick="closeModal('addSupplierModal')">Отмена</button>
            </form>
        </div>
    </div>
    <!-- Модальное окно редактирования поставщика -->
    <div id="editSupplierModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Редактировать поставщика</h2>
            <form id="editSupplierForm" onsubmit="handleEditSupplier(event)">
                <input type="hidden" name="supplierId">
                <div class="form-group">
                    <label>Название компании</label>
                    <input type="text" name="supplierName" required>
                </div>
                <div class="form-group">
                    <label>Категория</label>
                    <select name="supplierCategory" required>
                        <option value="">Выберите категорию</option>
                        <option value="Кофе, чай">Кофе, чай</option>
                        <option value="Молочные продукты">Молочные продукты</option>
                        <option value="Сиропы">Сиропы</option>
                        <option value="Расходные материалы">Расходные материалы</option>
                        <option value="Выпечка, кондитерские изделия">Выпечка, кондитерские изделия</option>
                        <option value="Фрукты, ягоды">Фрукты, ягоды</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Телефон</label>
                    <input type="tel" name="supplierPhone">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="supplierEmail">
                </div>
                <div class="form-group">
                    <label>Адрес</label>
                    <textarea name="supplierAddress"></textarea>
                </div>
                <div class="form-group">
                    <label>Статус</label>
                    <select name="supplierStatus" required>
                        <option value="active">Активный</option>
                        <option value="inactive">Неактивный</option>
                        <option value="blocked">Заблокирован</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('editSupplierModal')">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>
    <!-- Меню -->
    <!-- Добавить категорию -->
    <div class="modal" id="addCategoryModal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="addCategoryModal">&times;</span>
            <h3>Добавление новой категории</h3>
            <form id="addCategoryForm" onsubmit="addCategory(event)">
                <input type="text" name="categoryName" placeholder="Название категории*" required>
                <textarea name="categoryDescription" placeholder="Описание категории"></textarea>
                <div style="display:flex; gap:8px;">
                    <button type="button" class="cancel" onclick="closeModal('addCategoryModal')">Отмена</button>
                    <button type="submit">Добавить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Добавить блюдо -->
    <div class="modal" id="addMenuItemModal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="addMenuItemModal">&times;</span>
            <h3>Добавление нового блюда</h3>
            <form id="addMenuItemForm" onsubmit="addMenuItem(event)">
                <div class="form-group">
                    <label>Категория</label>
                    <select name="itemCategory" required>
                        <option value="">Выберите категорию</option>
                        <!-- Динамически заполняется -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Название блюда</label>
                    <input type="text" name="itemName" required>
                </div>
                
                <div class="form-group">
                    <label>Описание</label>
                    <textarea name="itemDescription" rows="3"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group half">
                        <label>Цена, ₽</label>
                        <input type="number" name="itemPrice" required min="0">
                    </div>
                    <div class="form-group half">
                        <label>Время приготовления, мин</label>
                        <input type="number" name="itemPrepTime" required min="0">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group half">
                        <label>Калории</label>
                        <input type="number" name="itemCalories" min="0">
                    </div>
                    <div class="form-group half">
                        <label>Статус</label>
                        <select name="itemStatus">
                            <option value="active">Активно</option>
                            <option value="hidden">Скрыто</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Аллергены (через запятую)</label>
                    <input type="text" name="itemAllergens" placeholder="Орехи, молоко, глютен...">
                </div>
                
                <div class="form-group">
                    <label>Изображение</label>
                    <input type="file" name="itemImage" accept="image/*" class="file-input">
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('addMenuItemModal')">Отмена</button>
                    <button type="submit" class="btn-primary">Добавить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Редактировать категорию -->
    <div class="modal" id="editCategoryModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Редактирование категории</h3>
            <form id="editCategoryForm" onsubmit="updateCategory(event)">
                <input type="hidden" name="categoryId">
                <input type="text" name="categoryName" placeholder="Название категории*" required>
                <textarea name="categoryDescription" placeholder="Описание категории"></textarea>
                <div style="display:flex; gap:8px;">
                    <button type="button" class="cancel" onclick="closeModal('editCategoryModal')">Отмена</button>
                    <button type="submit">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Редактировать блюдо -->
    <div class="modal" id="editMenuItemModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Редактирование блюда</h3>
            <form id="editMenuItemForm" onsubmit="updateMenuItem(event)">
                <input type="hidden" name="itemId">
                
                <div class="form-group">
                    <label>Категория</label>
                    <select name="itemCategory" required>
                        <option value="">Выберите категорию</option>
                        <!-- Динамически заполняется -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Название блюда</label>
                    <input type="text" name="itemName" required>
                </div>
                
                <div class="form-group">
                    <label>Описание</label>
                    <textarea name="itemDescription" rows="3"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group half">
                        <label>Цена, ₽</label>
                        <input type="number" name="itemPrice" required min="0">
                    </div>
                    <div class="form-group half">
                        <label>Время приготовления, мин</label>
                        <input type="number" name="itemPrepTime" required min="0">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group half">
                        <label>Калории</label>
                        <input type="number" name="itemCalories" min="0">
                    </div>
                    <div class="form-group half">
                        <label>Статус</label>
                        <select name="itemStatus">
                            <option value="active">Активно</option>
                            <option value="hidden">Скрыто</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Аллергены (через запятую)</label>
                    <input type="text" name="itemAllergens" placeholder="Орехи, молоко, глютен...">
                </div>
                
                <div class="form-group">
                    <label>Изображение</label>
                    <input type="file" name="itemImage" accept="image/*" class="file-input">
                </div>
                
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('editMenuItemModal')">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <div id="addUserModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="addUserModal">&times;</span>
            <h3>Добавить пользователя</h3>
            <form id="addUserForm">
                <div class="form-group">
                    <label>Логин</label>
                    <input type="text" name="username" required>
                </div>
                <div class="form-group">
                    <label>Имя</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" name="email" required>
                </div>
                <div class="form-group">
                    <label>Пароль</label>
                    <input type="password" name="password" required>
                </div>
                <div class="form-group">
                    <label>Роль</label>
                    <select name="role" required>
                        <option value="waiter">Официант</option>
                        <option value="cook">Повар</option>
                        <option value="manager">Менеджер</option>
                        <option value="client">Клиент</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn-primary">Добавить</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Модальное окно редактирования пользователя -->
    <div id="editUserModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Редактировать пользователя</h3>
            <form id="editUserForm">
                <div class="form-group">
                    <label>Логин</label>
                    <input type="text" name="username" required>
                </div>
                <div class="form-group">
                    <label>Имя</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>Роль</label>
                    <select name="role" required>
                        <option value="waiter">Официант</option>
                        <option value="cook">Повар</option>
                        <option value="manager">Менеджер</option>
                        <option value="client">Клиент</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Статус</label>
                    <select name="status" required>
                        <option value="active">Активен</option>
                        <option value="inactive">Неактивен</option>
                    </select>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Модальное окно для добавления/редактирования смены -->
    <div id="shiftModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="shiftModal">&times;</span>
            <h3 id="shiftModalTitle">Добавить смену</h3>
            <form id="shiftForm">
                <input type="hidden" id="shift-id">
                <div class="form-group">
                    <label for="shift-date">Дата</label>
                    <input type="date" id="shift-date" required>
                </div>
                
                <div class="form-group time-inputs">
                    <div class="time-input">
                        <label for="shift-start-time">Время начала</label>
                        <input type="time" id="shift-start-time" required>
                    </div>
                    
                    <div class="time-input">
                        <label for="shift-end-time">Время окончания</label>
                        <input type="time" id="shift-end-time" required>
                    </div>
                </div>
        
                <div class="form-group">
                    <label for="shift-manager">Ответственный менеджер</label>
                    <select id="shift-manager" required>
                        <option value="">Выберите менеджера</option>
                        <!-- Список менеджеров будет добавлен через JavaScript -->
                    </select>
                </div>
        
                <div class="form-group">
                    <label for="shift-status">Статус смены</label>
                    <select id="shift-status">
                        <option value="active">Активна</option>
                        <option value="pending">Ожидает</option>
                        <option value="completed">Завершена</option>
                        <option value="canceled">Отменена</option>
                    </select>
                </div>
        
                <div class="form-group">
                    <label for="shift-notes">Примечания</label>
                    <textarea id="shift-notes" rows="2"></textarea>
                </div>
        
                <div class="form-group">
                    <label for="shift-employees-container">Сотрудники смены</label>
                    <div id="shift-employees-container" class="employees-container">
                        <!-- Списки сотрудников будут добавлены через JavaScript -->
                    </div>
                </div>
        
                <div class="modal-actions">
                    <button type="submit" id="saveShiftBtn" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Request Details Modal -->
    <div class="modal" id="requestDetailsModal">
        <div class="modal-content">
            <span class="close-modal" data-modal-id="requestDetailsModal">&times;</span>
            <h3>Детали заявки <span id="requestDetailsId"></span></h3>
            <div id="requestDetailsContent">
                <!-- Request details will be loaded here -->
                <p>Загрузка...</p>
            </div>
            <div class="modal-buttons">
                <!-- Action buttons will be added here based on status -->
                 <button class="btn-secondary" onclick="closeModal('requestDetailsModal')">Закрыть</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно редактирования продукта -->
    <div id="editProductModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Редактировать продукт</h2>
            <form id="editProductForm" onsubmit="handleEditProduct(event)">
                <input type="hidden" name="productId">
                <div class="form-group">
                    <label>Название продукта</label>
                    <input type="text" name="productName" required>
                </div>
                <div class="form-group">
                    <label>Категория</label>
                    <select name="productCategory" required>
                        <option value="">Выберите категорию</option>
                        <option value="Кофе">Кофе</option>
                        <option value="Молочные продукты">Молочные продукты</option>
                        <option value="Сиропы">Сиропы</option>
                        <option value="Расходники">Расходники</option>
                        <option value="Чай">Чай</option>
                    </select>
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label>Количество</label>
                        <input type="number" name="productQuantity" required step="0.1" min="0">
                    </div>
                    <div class="form-group half">
                        <label>Единица измерения</label>
                        <select name="productUnit" required>
                            <option value="кг">кг</option>
                            <option value="л">л</option>
                            <option value="шт">шт</option>
                            <option value="уп.">уп.</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label>Минимальный запас</label>
                        <input type="number" name="productMinQuantity" required step="0.1" min="0">
                    </div>
                    <div class="form-group half">
                        <label>Единица измерения</label>
                        <select name="productMinUnit" required>
                            <option value="кг">кг</option>
                            <option value="л">л</option>
                            <option value="шт">шт</option>
                            <option value="уп.">уп.</option>
                        </select>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary" onclick="closeModal('editProductModal')">Отмена</button>
                    <button type="submit" class="btn-primary">Сохранить</button>
                </div>
            </form>
        </div>
    </div>
</div>
    

    <script src="../static/js/manager.js"></script>
</body>
</html>


